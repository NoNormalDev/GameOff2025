[gd_scene load_steps=24 format=3 uid="uid://oe1fkr7pnqfm"]

[ext_resource type="Script" uid="uid://derkjqvdykqw4" path="res://scripts/game_plan.gd" id="1_64cwe"]
[ext_resource type="Texture2D" uid="uid://1dlnbg81s6yh" path="res://external/laminate_floor_03_1k/laminate_floor_03_diff_1k.jpg" id="2_q1e77"]
[ext_resource type="Texture2D" uid="uid://w2016jnahg4c" path="res://external/plywood_1k/plywood_diff_1k.jpg" id="3_ihj41"]
[ext_resource type="FontFile" uid="uid://dk7yy2k1wfuv3" path="res://external/Gravitas_One/GravitasOne-Regular.ttf" id="4_ac0ro"]
[ext_resource type="Texture2D" uid="uid://c14rwemsgx00d" path="res://assets/screw.png" id="5_uwn5l"]
[ext_resource type="Texture2D" uid="uid://bg17aq171psqx" path="res://external/Grass005-1K/Grass005_1K-JPG_Color.jpg" id="6_uwn5l"]
[ext_resource type="PackedScene" uid="uid://w3ryxb7oakr2" path="res://scenes/grass_tile.tscn" id="7_ngn38"]

[sub_resource type="Shader" id="Shader_64cwe"]
code = "shader_type canvas_item;

uniform vec3 clr: source_color;

void fragment() {
	COLOR.rgb = clr;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_q1e77"]
shader = SubResource("Shader_64cwe")
shader_parameter/clr = Color(0.56100005, 0.63690007, 0.66, 1)

[sub_resource type="QuadMesh" id="QuadMesh_64cwe"]
size = Vector2(1920, 1080)

[sub_resource type="Shader" id="Shader_uwn5l"]
code = "shader_type canvas_item;

uniform sampler2D tex: filter_linear, repeat_enable;
uniform float scale = 1.0;
uniform float multi = 1.0;

void fragment() {
	COLOR.rgb = texture(tex, UV*scale).rgb * multi;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ngn38"]
shader = SubResource("Shader_uwn5l")
shader_parameter/tex = ExtResource("6_uwn5l")
shader_parameter/scale = 2.2800000000000002
shader_parameter/multi = 0.605

[sub_resource type="QuadMesh" id="QuadMesh_tqqvm"]
size = Vector2(1080, 1080)

[sub_resource type="Shader" id="Shader_q1e77"]
code = "shader_type canvas_item;

uniform sampler2D tex: filter_linear, repeat_enable;
uniform float scale = 1.0;
uniform float brightness: hint_range(0.0, 2.0, 0.0) = 1.0;

void fragment() {
	COLOR.rgb = texture(tex, UV*scale).rgb * brightness;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ihj41"]
shader = SubResource("Shader_q1e77")
shader_parameter/tex = ExtResource("2_q1e77")
shader_parameter/scale = 2.28
shader_parameter/brightness = 1.0689656

[sub_resource type="QuadMesh" id="QuadMesh_ljmk2"]
size = Vector2(1080, 1080)

[sub_resource type="Shader" id="Shader_ihj41"]
code = "shader_type canvas_item;

uniform vec2 size;
uniform sampler2D tex: filter_linear, repeat_enable;
uniform float scale;
uniform float brightness;

void vertex() {
	UV.x /= size.y/size.x;
	UV *= scale;
}

void fragment() {
	COLOR.rgb = texture(tex, UV).rgb * brightness;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ljmk2"]
shader = SubResource("Shader_ihj41")
shader_parameter/size = Vector2(50, 1081.96)
shader_parameter/tex = ExtResource("2_q1e77")
shader_parameter/scale = 2.28
shader_parameter/brightness = 0.595

[sub_resource type="QuadMesh" id="QuadMesh_ac0ro"]
size = Vector2(50, 1081.96)

[sub_resource type="Shader" id="Shader_ljmk2"]
code = "shader_type canvas_item;

uniform vec2 size;
uniform sampler2D tex: filter_linear, repeat_enable;
uniform float scale;
uniform float brightness;
uniform float saturation;

void vertex() {
	UV.y *= size.y/size.x;
	UV *= scale;
}

void fragment() {
	COLOR.rgb = texture(tex, UV).rgb * brightness;
	float luma = dot(COLOR.rgb, vec3(0.299, 0.587, 0.114));
	COLOR.rgb = mix(vec3(luma),COLOR.rgb,saturation);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ac0ro"]
shader = SubResource("Shader_ljmk2")
shader_parameter/size = Vector2(750, 125)
shader_parameter/tex = ExtResource("3_ihj41")
shader_parameter/scale = 0.93
shader_parameter/brightness = 1.735
shader_parameter/saturation = 0.64

[sub_resource type="QuadMesh" id="QuadMesh_q1e77"]
size = Vector2(750, 125)

[sub_resource type="LabelSettings" id="LabelSettings_ngn38"]
font = ExtResource("4_ac0ro")
font_size = 64
shadow_size = 30
shadow_color = Color(0, 0, 0, 0.41568628)
shadow_offset = Vector2(0, 0)

[node name="GamePlan" type="Node2D"]
script = ExtResource("1_64cwe")

[node name="Borders" type="ColorRect" parent="."]
offset_right = 40.0
offset_bottom = 40.0
color = Color(0, 0, 0, 1)

[node name="Game" type="Node2D" parent="."]

[node name="Background" type="MeshInstance2D" parent="Game"]
material = SubResource("ShaderMaterial_q1e77")
position = Vector2(960, 540)
mesh = SubResource("QuadMesh_64cwe")

[node name="Grass" type="MeshInstance2D" parent="Game"]
material = SubResource("ShaderMaterial_ngn38")
position = Vector2(540, 540)
mesh = SubResource("QuadMesh_tqqvm")

[node name="Shop" type="Node2D" parent="Game"]
position = Vector2(1380, 540)

[node name="BG" type="MeshInstance2D" parent="Game/Shop"]
material = SubResource("ShaderMaterial_ihj41")
mesh = SubResource("QuadMesh_ljmk2")

[node name="Border" type="MeshInstance2D" parent="Game/Shop"]
material = SubResource("ShaderMaterial_ljmk2")
position = Vector2(-554, 0)
rotation = 0.012435905
mesh = SubResource("QuadMesh_ac0ro")

[node name="TitleBG" type="MeshInstance2D" parent="Game/Shop"]
material = SubResource("ShaderMaterial_ac0ro")
position = Vector2(0, -401)
mesh = SubResource("QuadMesh_q1e77")

[node name="Label" type="Label" parent="Game/Shop/TitleBG"]
offset_left = -375.0
offset_top = -62.0
offset_right = 375.0
offset_bottom = 63.0
text = "SHOP"
label_settings = SubResource("LabelSettings_ngn38")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Screw" type="Sprite2D" parent="Game/Shop/TitleBG"]
position = Vector2(-364, -51)
rotation = -0.7853982
scale = Vector2(0.24999999, 0.24999999)
texture = ExtResource("5_uwn5l")

[node name="Screw2" type="Sprite2D" parent="Game/Shop/TitleBG"]
position = Vector2(-363, 49.99997)
rotation = 2.9594812
scale = Vector2(0.25, 0.25)
texture = ExtResource("5_uwn5l")

[node name="Screw3" type="Sprite2D" parent="Game/Shop/TitleBG"]
position = Vector2(364, -50.00003)
rotation = -0.44197345
scale = Vector2(0.25, 0.25)
texture = ExtResource("5_uwn5l")

[node name="Screw4" type="Sprite2D" parent="Game/Shop/TitleBG"]
position = Vector2(362, 48.99997)
rotation = -2.913574
scale = Vector2(0.25, 0.25)
texture = ExtResource("5_uwn5l")

[node name="TileMap" type="Node2D" parent="Game"]
position = Vector2(267, 210)

[node name="00" parent="Game/TileMap" instance=ExtResource("7_ngn38")]

[node name="01" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 0)
dark = true

[node name="02" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 0)

[node name="10" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(0, 128)
dark = true

[node name="11" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 128)

[node name="12" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 128)
dark = true

[node name="20" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(0, 256)

[node name="21" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 256)
dark = true

[node name="22" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 256)

[node name="30" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(0, 384)
dark = true

[node name="31" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 384)

[node name="32" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 384)
dark = true

[node name="40" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(0, 512)

[node name="41" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 512)
dark = true

[node name="42" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 512)

[node name="50" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(0, 640)
dark = true

[node name="51" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(128, 640)

[node name="52" parent="Game/TileMap" instance=ExtResource("7_ngn38")]
position = Vector2(256, 640)
dark = true
